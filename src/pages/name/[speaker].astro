---
import MainLayouts from "../../layouts/MainLayouts.astro"

export async function getStaticPaths() {
  const data = await fetch(
    "https://pexwboaieovroxjkczsc.supabase.co/rest/v1/speakerinfo",
  {
    method: "GET",
    headers: {
        apikey:
            "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBleHdib2FpZW92cm94amtjenNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQ1MDEwNzgsImV4cCI6MjAxMDA3NzA3OH0.6BHSqoC3DM7BXM7_X4Syq5W3u_U5MKO7EPClIkefExs"
    },
}
  ).then(response => response.json());

  return data.map((name) => {
    return {
      params: { speaker: name.speaker },
      props: { myData:name },
    };
  });
}

const { myData } = Astro.props
console.log(myData);

/*
  id: 4,
  name: 'Layla Husain',
  title: 'Service Designer at\nHelsingborg City',
  info: 'She is a service designer who is passionate about creating a positive impact by helping shape a sustainable and inclusive future. She truly believes in the power of collaboration and co-creation through design thinking. \x0BHer current interests include, but is not limited to, sustainability, circular economies, smarter cities, inclusive design, educational games, citizen engagement, healthcare, and social innovation.',
  talk: 'Do you want to do good, but are you just not sure\n' +
    'how to get started? We created the group Designers\n' +
    'for Good as a way to take action. In this talk, Iâ€™ll talk\n' +
    'about our journey so far, and share our learnings with\n' +
    'you. My hope is that you will be inspired to start\n' +
    'Designing for Good too!',
  image: 'https://noelwilliam.dk/kea2/speakers/layla.webp',
  speaker: 'Layla-Husain'*/
---

<MainLayouts>
	    <img src={myData.image} alt="placeholder">
    <h1>{myData.name}</h1>
    <h2>{myData.title}</h2>
    <p>{myData.info}</p>
    <h4>{myData.talk}</h4>
</MainLayouts>